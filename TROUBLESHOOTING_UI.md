# 🔍 Где найти чекбокс реранкинга - Пошаговая инструкция

## ⚠️ ВАЖНО: Проверь эти вещи СНАЧАЛА!

### 1. Используешь правильный архив?

Убедись что распаковал:
```
semantic-search-app-v4.0-reranking-final.zip
```

### 2. Перезапустил сервер?

```bash
# Останови старый сервер (Ctrl+C)
cd semantic-search-app
npm run dev
```

### 3. Обновил страницу в браузере?

```
Нажми Ctrl+Shift+R (или Cmd+Shift+R на Mac)
Это жёсткое обновление с очисткой кэша
```

---

## 📍 Пошаговая навигация

### ШАГ 1: Открой http://localhost:3000

### ШАГ 2: Выбери вкладку "🤖 RAG"

```
┌─────────────────────────────────────────────────┐
│                                                 │
│  [  🔍 Поиск  ] [ ▶ 🤖 RAG ◀ ] [ ⚖️ Сравнение ] │
│                      ^^^                        │
│                  КЛИКНИ СЮДА!                   │
│                                                 │
└─────────────────────────────────────────────────┘
```

### ШАГ 3: Убедись что "Использовать RAG" ВКЛЮЧЁН

Должна стоять галочка:

```
┌─────────────────────────────────────────────────┐
│  Ваш вопрос                                     │
│  ┌───────────────────────────────────────────┐  │
│  │ Задайте вопрос по документам...          │  │
│  └───────────────────────────────────────────┘  │
│                                                 │
│  ☑️ Использовать RAG (поиск в документах)      │
│  ^^^                                            │
│  ГАЛОЧКА ДОЛЖНА БЫТЬ ЗДЕСЬ!                     │
│                                                 │
└─────────────────────────────────────────────────┘
```

**Если галочки нет - ПОСТАВЬ ЕЁ!**

### ШАГ 4: После включения RAG появится СЕРАЯ ПАНЕЛЬ

```
┌─────────────────────────────────────────────────┐
│  ☑️ Использовать RAG (поиск в документах)      │
│                                                 │
│     ┌──────────── СЕРАЯ ПАНЕЛЬ ─────────────┐  │
│     │                                        │  │
│     │  ☐ 🎯 Использовать реранкинг          │  │
│     │     (улучшает точность +40%)          │  │
│     │                                        │  │
│     │  💡 Реранкинг анализирует результаты  │  │
│     │     повторно для лучшей точности      │  │
│     │                                        │  │
│     └────────────────────────────────────────┘  │
│                                                 │
│  [     🤖 Спросить у AI     ]                   │
│                                                 │
└─────────────────────────────────────────────────┘
```

### ШАГ 5: Включи реранкинг

```
┌─────────────────────────────────────────────────┐
│  ☑️ Использовать RAG (поиск в документах)      │
│                                                 │
│     ┌────────────────────────────────────────┐ │
│     │                                        │ │
│     │  ☑️ 🎯 Использовать реранкинг         │ │
│     │  ^^^  (улучшает точность +40%)        │ │
│     │  ПОСТАВЬ ГАЛОЧКУ ЗДЕСЬ!               │ │
│     │                                        │ │
│     │  ▶ Показать настройки                 │ │
│     │                                        │ │
│     └────────────────────────────────────────┘ │
│                                                 │
└─────────────────────────────────────────────────┘
```

### ШАГ 6: (Опционально) Раскрой настройки

```
┌─────────────────────────────────────────────────┐
│  ☑️ 🎯 Использовать реранкинг                  │
│                                                 │
│     ▼ Скрыть настройки                         │
│     ┌────────────────────────────────────────┐ │
│     │ Метод реранкинга:                      │ │
│     │ ┌────────────────────────────────────┐ │ │
│     │ │ Hybrid (рекомендуется) ▼          │ │ │
│     │ └────────────────────────────────────┘ │ │
│     │                                        │ │
│     │ 📊 Параметры:                          │ │
│     │ • Первичный поиск: top-20              │ │
│     │ • Финальный отбор: top-5               │ │
│     │ • Порог качества: 0.5                  │ │
│     └────────────────────────────────────────┘ │
│                                                 │
└─────────────────────────────────────────────────┘
```

---

## 🚨 Если НЕ ВИДИШЬ серую панель

### Проблема 1: Неправильная вкладка

**Симптом:** Вижу только "Ваш вопрос" и кнопку "🔍 Найти"

**Решение:** Ты на вкладке "🔍 Поиск". Переключись на "🤖 RAG"!

---

### Проблема 2: RAG выключен

**Симптом:** Не вижу серую панель под чекбоксом RAG

**Решение:** Поставь галочку на "☑️ Использовать RAG"!

---

### Проблема 3: Кэш браузера

**Симптом:** Даже после перезапуска не вижу

**Решение:**
```
1. Открой DevTools (F12)
2. Правый клик на кнопку обновления браузера
3. "Empty Cache and Hard Reload"

ИЛИ

1. Ctrl+Shift+R (Windows/Linux)
2. Cmd+Shift+R (Mac)
```

---

### Проблема 4: Старый код

**Симптом:** В архиве нет page.tsx с реранкингом

**Решение:**
```bash
# Проверь наличие кода
grep "useReranking" app/page.tsx

# Должно вывести несколько строк
# Если пусто - скачай архив заново!
```

---

## 🧪 Тест: Проверь что код работает

### Вариант A: Через тестовую страницу

```bash
cd semantic-search-app
open test-rerank-ui.html
# или
firefox test-rerank-ui.html
```

Если в тестовой странице всё работает - значит проблема в кэше браузера!

### Вариант B: Через консоль браузера

1. Открой DevTools (F12)
2. Перейди на вкладку Console
3. Вставь:
```javascript
document.querySelector('#useReranking')
```
4. Нажми Enter

**Результат:**
- Если вернёт `<input...>` - элемент есть!
- Если вернёт `null` - элемента нет (проверь вкладку и RAG чекбокс)

---

## 📸 Как должно выглядеть (ASCII скриншот)

```
╔═══════════════════════════════════════════════════════════╗
║                 Semantic Search + RAG                     ║
╠═══════════════════════════════════════════════════════════╣
║                                                           ║
║  ┌─────────┐ ┌─────────┐ ┌─────────┐                    ║
║  │ 🔍 Поиск│ │ 🤖 RAG  │ │⚖️ Сравн│                    ║
║  └─────────┘ └─────────┘ └─────────┘                    ║
║                   ^^^                                     ║
║              ВЫБРАНА ЭТА!                                 ║
║                                                           ║
║  ╔═══════════════════════════════════════════════════╗   ║
║  ║ Индекс: ✅ 15 чанков из 3 документов              ║   ║
║  ║ [🔄 Переиндексировать]                            ║   ║
║  ╚═══════════════════════════════════════════════════╝   ║
║                                                           ║
║  ┌─────────────────────────────────────────────────────┐ ║
║  │ Ваш вопрос                                          │ ║
║  │ ┌─────────────────────────────────────────────────┐ │ ║
║  │ │ Задайте вопрос по документам...                 │ │ ║
║  │ └─────────────────────────────────────────────────┘ │ ║
║  │                                                     │ ║
║  │ ☑️ Использовать RAG (поиск в документах)           │ ║
║  │    ┌──────────────────────────────────────────┐   │ ║
║  │    │ ← СЕРАЯ ПАНЕЛЬ ПОЯВЛЯЕТСЯ ЗДЕСЬ!        │   │ ║
║  │    │                                          │   │ ║
║  │    │  ☑️ 🎯 Использовать реранкинг           │   │ ║
║  │    │     (улучшает точность +40%)            │   │ ║
║  │    │                                          │   │ ║
║  │    │     ▶ Показать настройки                │   │ ║
║  │    │                                          │   │ ║
║  │    │     💡 Реранкинг анализирует...         │   │ ║
║  │    │                                          │   │ ║
║  │    └──────────────────────────────────────────┘   │ ║
║  │                                                     │ ║
║  │ [        🤖 Спросить у AI        ]                 │ ║
║  └─────────────────────────────────────────────────────┘ ║
║                                                           ║
╚═══════════════════════════════════════════════════════════╝
```

---

## ✅ Чеклист проверки

- [ ] Скачал `semantic-search-app-v4.0-reranking-final.zip`
- [ ] Распаковал архив
- [ ] Запустил `npm run dev`
- [ ] Открыл http://localhost:3000
- [ ] Выбрал вкладку **"🤖 RAG"** (не "🔍 Поиск"!)
- [ ] Поставил галочку **"☑️ Использовать RAG"**
- [ ] Вижу **серую панель** под чекбоксом RAG
- [ ] Вижу **"🎯 Использовать реранкинг"** в серой панели
- [ ] Могу поставить галочку на реранкинг
- [ ] Могу раскрыть настройки

---

## 🆘 Если всё равно не работает

### Крайняя мера: Проверь файл напрямую

```bash
cd semantic-search-app

# Строка 365 должна быть: {useRAG && (
sed -n '365p' app/page.tsx

# Строка 370 должна быть: id="useReranking"
sed -n '370p' app/page.tsx

# Если не совпадает - файл не тот!
```

### Или пришли скриншот

Сделай скриншот всей страницы и пришли - я скажу в чём проблема!

---

**90% проблем решаются жёстким обновлением (Ctrl+Shift+R)!** 🎯
